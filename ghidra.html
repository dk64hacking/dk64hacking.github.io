<html lang="en" data-bs-theme="dark">
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <!-- General -->
        <meta name="description" content="Welcome to the DK64 Hacking Page. A comprehensive repository on all things DK64 ROM Hacking." />
        <meta name="keywords" content="Donkey Kong 64, DK64, ROM Hacking, N64, Nintendo 64" />
        <meta name="author" content="DK64 ROM Hacking Crew" />
        <!-- Discord -->
        <meta content="Ghidra Setup" property="og:title" />
        <meta content="Welcome to the DK64 Hacking Page. A comprehensive repository on all things DK64 ROM Hacking." property="og:description" />
        <meta content="Donkey Kong 64 Hacking" property="og:site_name" />
        <meta content="https://raw.githubusercontent.com/dk64hacking/dk64hacking.github.io/main/assets/logo.png" property="og:image" />
        <!-- Other Bits -->
        <title>Ghidra Setup</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"/>
        <link href="./styles/style.css" rel="stylesheet"/>
        <link href="./assets/logo.png" rel="icon" />
    </head>
    <body>
        <!-- Navigation -->
        <nav class="navbar navbar-expand-lg bg-body-tertiary">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">DK64 Hacking</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNavDropdown">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link" aria-current="page" href="./">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="./hacks.html">Hacks</a>
                        </li>
                        <!-- <li class="nav-item">
                            <a class="nav-link" href="#">Pricing</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                Dropdown link
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#">Action</a></li>
                                <li><a class="dropdown-item" href="#">Another action</a></li>
                                <li><a class="dropdown-item" href="#">Something else here</a></li>
                            </ul>
                        </li> -->
                    </ul>
                    <div class="d-flex" style="width:100%">
                        <a href="https://discord.gg/BK3xFmhYh6" style="margin-left:auto">
                            <img src="./assets/discord.png" alt="Discord">
                        </a>
                    </div>
                </div>
            </div>
        </nav>
        <div class="container">
            <div class="col">
                <div class="pt-4">
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="./">Home</a></li>
                            <li class="breadcrumb-item active" aria-current="page">Ghidra Setup</li>
                        </ol>
                    </nav>
                </div>
                <div class="card p-4">
                    <h2>Ghidra Setup</h2>
                    <p>
                        Ghidra is a tool developed by the National Security Agency to auto-decompile compiled code into it's best attempt 
                        at the original source code.
                        For Donkey Kong 64, a portion of the game code is loaded into memory whilst it's being ran, meaning that if you 
                        take a RAM dump of the game, you can pass that RAM dump into Ghidra, and it will turn the MIPS Assembly code into 
                        something similar to the original source code of the game.
                    </p>
                    <p>
                        Unfortunately, Ghidra doesn't produce a perfect decompilation, and will require lots of hand-holding and modifying 
                        variable types in order for it to produce something that's close enough to accurate.
                    </p>
                    <h3 class="mt-4">Installing Ghidra</h3>
                    <p>
                        You will first need to install <a href="https://ghidra-sre.org/">Ghidra</a> and run through the steps 
                        listed on their <a href="https://github.com/NationalSecurityAgency/ghidra/blob/master/README.md">README</a>. 
                        Once you have Ghidra set up, you will need to download the <code>.gzf</code> file located in the 
                        <code>#training-grounds</code> channel in the discord and import it.
                    </p>
                    <h3 class="mt-4">Using Ghidra</h3>
                    <p>
                        On the left hand side of the Ghidra Code Browser, you will see a "Symbol Tree" dockable dialog, with expandable 
                        sections. The two main sections you will want to focus on are the "Functions" section and the "Labels" section. 
                        This will contain all functions and variables that we have assigned a name to.
                    </p>
                    <p>
                        In the center, you will have a readout of the mips assembly instructions that are being ran through the game. 
                        Unless you are very familiar with MIPS Assembly, you might not want to pay a huge amount of attention to this section. 
                        That being said, clicking on specific MIPS assembly instructions will take you, roughly, to the accompanying C code.
                    </p>
                    <p>
                        This brings us onto the right-hand section which will contain Ghidra's best attempt at the C Code of the game. As 
                        stated before, this is <strong>NOT</strong> an accurate decompilation of the game, and a proper decompilation will 
                        always beat a Ghidra repo in terms of accuracy. However, for the most part it's close enough to deduce what the 
                        game is doing and how it's making 99% of decisions.
                    </p>
                </div>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    </body>
</html>